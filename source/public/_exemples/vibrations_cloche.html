

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="fr" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="fr" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>7.2. Modélisation des vibrations d&#39;une cloche : calcul des modes propres et réponse à un choc &mdash; Documentation La Dynamique avec Cast3M 2021.0</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/togglebutton.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
        <script type="text/javascript">var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/togglebutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="next" title="8. Références" href="../references.html" />
    <link rel="prev" title="7.1. Modélisation d&#39;un rotor de Laval : calcul des modes propres réels et complexes, réponse au balourd" href="rotor_laval_poutre.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #B81420" >
          

          
            <a href="../dynamique.html" class="icon icon-home"> La Dynamique avec Cast3M
          

          
            
            <img src="../_static/logo_CEA_Cast3Mrouge.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2021.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Sommaire:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../equation_dyn.html">2. Equation de la dynamique</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../equation_dyn.html#equation-generale-du-mouvement">2.1. Equation générale du mouvement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../equation_dyn.html#equation-du-mouvement-linearisee-pour-les-problemes-vibratoires">2.2. Equation du mouvement linéarisée pour les problèmes vibratoires</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../modes.html">3. Calculs modaux</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../modes.html#calcul-des-modes-propres-reels">3.1. Calcul des modes propres réels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modes.html#synthese-modale">3.2. Synthèse modale</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modes.html#sous-structuration">3.3. Sous-structuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modes.html#calcul-des-modes-propres-complexes">3.4. Calcul des modes propres complexes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modes.html#exemple-commentes-de-calcul-de-modes-propres">3.5. Exemple commentés de calcul de modes propres</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reponse_forcee.html">4. Analyses spectrales du système linéaire forcé</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../reponse_forcee.html#equations-du-systeme-lineaire-force">4.1. Equations du système linéaire forcé</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reponse_forcee.html#reponse-dans-le-cas-general">4.2. Réponse dans le cas général</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../reponse_forcee.html#ecriture-du-probleme-dans-le-domaine-de-laplace">4.2.1. Ecriture du problème dans le domaine de Laplace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reponse_forcee.html#fonction-de-transfert-sur-base-modale">4.2.2. Fonction de transfert sur base modale</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reponse_forcee.html#limites-de-la-tranformation-de-laplace">4.2.3. Limites de la tranformation de Laplace</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reponse_forcee.html#reponse-etablie">4.3. Réponse établie</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../reponse_forcee.html#interet-de-la-tranformation-de-fourier-pour-les-regimes-etablis">4.3.1. Intérêt de la tranformation de Fourier pour les régimes établis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reponse_forcee.html#reponse-a-un-spectre-d-excitation">4.3.2. Réponse à un spectre d'excitation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reponse_forcee.html#exemples-commentes-avec-un-calcul-spectral-de-regime-force">4.4. Exemples commentés avec un calcul spectral de régime forcé</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../integration_temporelle.html">5. Analyse par intégration temporelle</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../integration_temporelle.html#les-schemas-de-newmark">5.1. Les schémas de Newmark</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../integration_temporelle.html#relations-de-recurrence">5.1.1. Relations de récurrence</a></li>
<li class="toctree-l3"><a class="reference internal" href="../integration_temporelle.html#proprietes">5.1.2. Propriétés</a></li>
<li class="toctree-l3"><a class="reference internal" href="../integration_temporelle.html#cas-des-differences-centrees">5.1.3. Cas des différences centrées</a></li>
<li class="toctree-l3"><a class="reference internal" href="../integration_temporelle.html#cas-de-l-acceleration-moyenne">5.1.4. Cas de l'accélération moyenne</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../integration_temporelle.html#analyse-des-resultats-temporels">5.2. Analyse des résultats temporels</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../integration_temporelle.html#evolutions-temporelles">5.2.1. Evolutions temporelles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../integration_temporelle.html#animations">5.2.2. Animations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../integration_temporelle.html#analyse-spectrale-des-resultats-temporels">5.2.3. Analyse spectrale des résultats temporels</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../integration_temporelle.html#exemples-commentes-realisant-une-integration-temporelle">5.3. Exemples commentés réalisant une intégration temporelle</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../conclusions.html">6. Conclusions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../exemples.html">7. Exemples commentés</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="rotor_laval_poutre.html">7.1. Modélisation d'un rotor de Laval : calcul des modes propres réels et complexes, réponse au balourd</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rotor_laval_poutre.html#descriptif">7.1.1. Descriptif</a></li>
<li class="toctree-l3"><a class="reference internal" href="rotor_laval_poutre.html#calcul-des-modes-reels">7.1.2. Calcul des modes réels</a></li>
<li class="toctree-l3"><a class="reference internal" href="rotor_laval_poutre.html#calcul-du-diagramme-campbell">7.1.3. Calcul du diagramme Campbell</a></li>
<li class="toctree-l3"><a class="reference internal" href="rotor_laval_poutre.html#calcul-de-la-reponse-au-balourd">7.1.4. Calcul de la réponse au balourd</a></li>
<li class="toctree-l3"><a class="reference internal" href="rotor_laval_poutre.html#fichiers-a-telecharger">7.1.5. Fichiers à télécharger</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">7.2. Modélisation des vibrations d'une cloche : calcul des modes propres et réponse à un choc</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#descriptif">7.2.1. Descriptif</a></li>
<li class="toctree-l3"><a class="reference internal" href="#calcul-des-modes-reels">7.2.2. Calcul des modes réels</a></li>
<li class="toctree-l3"><a class="reference internal" href="#calcul-de-la-reponse-a-un-choc-par-integration-temporelle">7.2.3. Calcul de la réponse à un choc par intégration temporelle</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fichiers-a-telecharger">7.2.4. Fichiers à télécharger</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">8. Références</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../dynamique.html">La Dynamique avec Cast3M</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../dynamique.html">Docs</a> &raquo;</li>
        
          <li><a href="../exemples.html">7. Exemples commentés</a> &raquo;</li>
        
      <li>7.2. Modélisation des vibrations d'une cloche : calcul des modes propres et réponse à un choc</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/_exemples/vibrations_cloche.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="modelisation-des-vibrations-d-une-cloche-calcul-des-modes-propres-et-reponse-a-un-choc">
<span id="ex-vibrations-cloche"></span><h1>7.2. Modélisation des vibrations d'une cloche : calcul des modes propres et réponse à un choc<a class="headerlink" href="#modelisation-des-vibrations-d-une-cloche-calcul-des-modes-propres-et-reponse-a-un-choc" title="Lien permanent vers ce titre">¶</a></h1>
<div class="section" id="descriptif">
<h2>7.2.1. Descriptif<a class="headerlink" href="#descriptif" title="Lien permanent vers ce titre">¶</a></h2>
<p>Une cloche est étudiée à l'aide d'éléments massif quadratique.</p>
<div class="dropdown note admonition">
<p class="first admonition-title">Extrait du script Cast3M : Données, maillage et modélisation</p>
<div class="last highlight-gibiane notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">************************************************************************</span>
<span class="c">* REPONSE VIBRATOIRE D&#39;UNE CLOCHE</span>
<span class="c">*</span>
<span class="c">* Calcul modal et integration temporelle suite a un choc</span>
<span class="c">* Modele 3D, elements massifs</span>
<span class="c">* Vue de la generatrice</span>
<span class="c">*</span>
<span class="c">*   Z ^</span>
<span class="c">*     | blocage</span>
<span class="c">*     | |</span>
<span class="c">*     | V</span>
<span class="c">*     | +---___</span>
<span class="c">*     |        \</span>
<span class="c">*     |         |</span>
<span class="c">*     |         |</span>
<span class="c">*     |          |</span>
<span class="c">*     |          |</span>
<span class="c">*     |           |</span>
<span class="c">*     |           |</span>
<span class="c">*     |            |</span>
<span class="c">*     |      choc--&gt;\</span>
<span class="c">*     |              \</span>
<span class="c">*     +================+------&gt; X</span>
<span class="c">*                     p1</span>
<span class="c">*</span>
<span class="c">* Auteur : Benoit Prabel, 2017-11-15 pour sujet de Master 2 UPMC</span>
<span class="c">*          remis en forme le 2021-09-13</span>
<span class="c">* Geometrie de cloche fournie par Jose Antunes et al.</span>
<span class="c">*</span>
<span class="c">************************************************************************</span>


<span class="c">************************************************************************</span>
<span class="c">* OPTIONS</span>
<span class="c">************************************************************************</span>

<span class="c">* VIBR : nombre de mode et ordre de grandeur des 1eres frequences</span>
  <span class="n">Nmode</span> <span class="ow">=</span> <span class="mi">30</span><span class="p">;</span>  <span class="n">Fgoal</span> <span class="ow">=</span> <span class="mi">100</span><span class="mf">0.</span><span class="p">;</span>
  
<span class="c">* DYNAMIC : SUR BASE MODALE OU ELEMENTS FINIS ?</span>
  <span class="n">ifPJBA1</span> <span class="ow">=</span><span class="nb"> FAUX</span><span class="p">;</span>
<span class="c">* ifPJBA1 = VRAI;</span>

<span class="c">* TRAC et DESS : OPTIONS</span>
  <span class="kc">OPTI</span> <span class="s1">&#39;TRAC&#39;</span> <span class="s1">&#39;PSC&#39;</span> <span class="s1">&#39;EPTR&#39;</span> <span class="mi">5</span> <span class="s1">&#39;POTR&#39;</span> <span class="s1">&#39;HELVETICA_16&#39;</span> <span class="p">;</span>


<span class="c">************************************************************************</span>
<span class="c">* MODELISATION</span>
<span class="c">************************************************************************</span>

<span class="c">* RECUPERATION DU MAILLAGE</span>
  <span class="kc">OPTI REST</span> <span class="s1">&#39;mesh_bell.xdr&#39;</span><span class="p">;</span>
  <span class="kc">REST</span> <span class="p">;</span>
<span class="c">* TRACE DU MAILLAGE </span>
  <span class="kc">MESS</span> <span class="s1">&#39;&gt;&gt;&gt; Le maillage comporte &#39;</span> <span class="p">(</span><span class="kc">NBEL</span> <span class="n">Vbell</span><span class="p">)</span> <span class="s1">&#39; elements quadratiques&#39;</span><span class="p">;</span>
<span class="c">* TRAC Vbell &#39;FACE&#39;;</span>

<span class="c">* DONNEES MATERIAU</span>
<span class="c">*  Ey1  : module d&#39;Young    </span>
<span class="c">*  nu1  : coefficient de poisson </span>
<span class="c">*  ro1  : densite  </span>
<span class="c">*  al1  : coefficient de dilatation thermique (inutile ici)</span>
  <span class="n">Ey1</span> <span class="ow">=</span> <span class="mi">10</span><span class="mf">0.E9</span><span class="p">;</span>
  <span class="n">nu1</span> <span class="ow">=</span> <span class="mf">0.34</span><span class="p">;</span>
  <span class="n">ro1</span> <span class="ow">=</span> <span class="mi">891</span><span class="mf">0.</span><span class="p">;</span>
  <span class="n">al1</span> <span class="ow">=</span> <span class="mi">1</span><span class="mf">5.E-6</span><span class="p">;</span>
  
<span class="c">* MODELE et MATERIAU</span>
  <span class="n">modbell</span> <span class="ow">=</span><span class="kc"> MODE</span> <span class="n">Vbell</span> <span class="s1">&#39;MECANIQUE&#39;</span> <span class="s1">&#39;ELASTIQUE&#39;</span> <span class="s1">&#39;ISOTROPE&#39;</span><span class="p">;</span>
  <span class="n">matbell</span> <span class="ow">=</span><span class="kc"> MATE</span> <span class="n">modbell</span> <span class="s1">&#39;YOUN&#39;</span> <span class="n">Ey1</span> <span class="s1">&#39;NU&#39;</span> <span class="n">nu1</span> <span class="s1">&#39;RHO&#39;</span> <span class="n">ro1</span> <span class="s1">&#39;ALPH&#39;</span> <span class="n">al1</span><span class="p">;</span>

<span class="c">* MATRICES</span>
  <span class="n">K1</span> <span class="ow">=</span><span class="kc"> RIGI</span> <span class="n">modbell</span> <span class="n">matbell</span><span class="p">;</span>
  <span class="n">M1</span> <span class="ow">=</span><span class="kc"> MASS</span> <span class="n">modbell</span> <span class="n">matbell</span><span class="p">;</span>

<span class="c">* CONDITIONS AUX LIMITES</span>
  <span class="n">CL1</span> <span class="ow">=</span><span class="kc"> BLOQ</span> <span class="n">Senca</span> <span class="s1">&#39;DEPL&#39;</span><span class="p">;</span>
  <span class="n">Ktot1</span> <span class="ow">=</span> <span class="n">K1</span><span class="kc"> et</span> <span class="n">CL1</span><span class="p">;</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="calcul-des-modes-reels">
<h2>7.2.2. Calcul des modes réels<a class="headerlink" href="#calcul-des-modes-reels" title="Lien permanent vers ce titre">¶</a></h2>
<p>On calcule les 30 premiers modes propres réels de la structure,
ce qui permet de couvrir la plage 0 - 4000 Hz.</p>
<div class="dropdown note admonition">
<p class="first admonition-title">Extrait du script Cast3M : Calcul des modes réels</p>
<div class="last highlight-gibiane notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">************************************************************************</span>
<span class="c">* ANALYSE MODALE </span>
<span class="c">************************************************************************</span>

<span class="c">* CALCUL DES MODES</span>
<span class="c">* Tmode = VIBR &#39;IRAM&#39; Fgoal Nmode Ktot1 M1 ;</span>
  <span class="n">Tmode</span> <span class="ow">=</span><span class="kc"> VIBR</span> <span class="s1">&#39;SIMUL&#39;</span> <span class="n">Fgoal</span> <span class="n">Nmode</span> <span class="n">Ktot1</span> <span class="n">M1</span> <span class="p">;</span>

<span class="c">* POST TRAITEMENT : preparation</span>
<span class="c">* trace de face et de dessus</span>
  <span class="n">eye_y</span> <span class="ow">=</span> <span class="mf">0.</span> <span class="ow">-</span><span class="mf">1.2E6</span> <span class="mf">0.</span>   <span class="p">;</span>
  <span class="n">eye_z</span> <span class="ow">=</span> <span class="mf">0.</span>  <span class="mf">0.</span>    <span class="mf">1.2E6</span><span class="p">;</span>
<span class="c">* petit travail car on veut tracer seulement qq aretes visibles</span>
  <span class="n">are_bell</span>  <span class="ow">=</span><span class="kc"> ARET</span> <span class="n">Vbell</span><span class="p">;</span>
  <span class="n">env_Sbell</span> <span class="ow">=</span><span class="kc"> CONT</span> <span class="n">Sbell</span><span class="p">;</span>
  <span class="n">env_trac</span>  <span class="ow">=</span> <span class="n">c_bas</span><span class="kc"> ET</span> <span class="n">env_Sbell</span><span class="p">;</span>
  <span class="n">prTOUR</span> <span class="ow">=</span><span class="kc"> PROG</span> <span class="mi">9</span><span class="mf">0.</span> <span class="mi">18</span><span class="mf">0.</span> <span class="mi">27</span><span class="mf">0.</span><span class="p">;</span>
  <span class="n">REPE</span> <span class="n">BTOUR</span> <span class="p">(</span><span class="kc">DIME</span> <span class="n">prTOUR</span><span class="p">);</span> 
    <span class="n">angTOUR</span>  <span class="ow">=</span><span class="kc"> EXTR</span> <span class="n">prTOUR</span> <span class="p">&amp;</span><span class="n">BTOUR</span><span class="p">;</span>
    <span class="n">env_trac</span> <span class="ow">=</span> <span class="n">env_trac</span><span class="kc"> ET</span> <span class="p">(</span><span class="kc">TOUR</span> <span class="n">env_Sbell</span> <span class="n">angTOUR</span> <span class="n">PR1</span> <span class="n">PR2</span><span class="p">);</span>
  <span class="n">FIN</span>  <span class="n">BTOUR</span><span class="p">;</span>
  <span class="kc">ELIM</span>  <span class="n">env_trac</span> <span class="n">Vbell</span> <span class="mf">1.E-8</span><span class="p">;</span> 
  <span class="n">env_trac</span> <span class="ow">=</span> <span class="n">env_trac</span><span class="kc"> et</span> <span class="n">are_bell</span><span class="p">;</span>
  <span class="n">env_trac</span> <span class="ow">=</span> <span class="n">env_trac</span><span class="kc"> COUL</span> <span class="s1">&#39;BRON&#39;</span><span class="p">;</span>
  
<span class="c">* POST TRAITEMENT : appel a POSTVIBR</span>
<span class="c">* table d&#39;options de POSTVIBR</span>
  <span class="n">ToptPost</span> <span class="ow">=</span><span class="kc"> TABL</span><span class="p">;</span>
  <span class="n">ToptPost</span> <span class="p">.</span> <span class="s1">&#39;MAILLAGE_2&#39;</span> <span class="ow">=</span> <span class="n">env_trac</span> <span class="p">;</span>
<span class="c">* en vue de face </span>
  <span class="kc">OPTI</span> <span class="s1">&#39;OEIL&#39;</span> <span class="n">eye_y</span><span class="p">;</span>
  <span class="nb">POSTVIBR</span> <span class="n">Tmode</span> <span class="n">ToptPost</span> <span class="p">(</span><span class="kc">MOTS</span> <span class="s1">&#39;TABL&#39;</span> <span class="s1">&#39;DEFO&#39;</span> <span class="s1">&#39;MAIL&#39;</span> <span class="s1">&#39;LIST&#39;</span><span class="p">);</span>
<span class="c">* idem en vue de dessus</span>
  <span class="kc">OPTI</span> <span class="s1">&#39;OEIL&#39;</span> <span class="n">eye_z</span><span class="p">;</span>
  <span class="nb">POSTVIBR</span> <span class="n">Tmode</span> <span class="n">ToptPost</span> <span class="p">(</span><span class="kc">MOTS</span> <span class="s1">&#39;TABL&#39;</span> <span class="s1">&#39;DEFO&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="../_images/vibrations_cloche-MODES.png"><img alt="../_images/vibrations_cloche-MODES.png" src="../_images/vibrations_cloche-MODES.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">Quelques exemple de déformées modales <span class="math notranslate nohighlight">\(\varphi\)</span> en vue de face et de dessus</span></p>
</div>
</div>
<div class="section" id="calcul-de-la-reponse-a-un-choc-par-integration-temporelle">
<h2>7.2.3. Calcul de la réponse à un choc par intégration temporelle<a class="headerlink" href="#calcul-de-la-reponse-a-un-choc-par-integration-temporelle" title="Lien permanent vers ce titre">¶</a></h2>
<p>On simule un choc par une force de courte durée (0.1 ms).
Deux intégrations temporelles sont menées avec le même pas de temps (<span class="math notranslate nohighlight">\(\Delta t = 10\)</span> µs)
et comparées :</p>
<ul class="simple">
<li>avec la procédure DYNAMIC, en utilisant le schéma de l'accélération moyenne et sur base éléments finis.</li>
<li>avec l'opérateur DYNE, en utilisant le schéma des différences centrées et sur base modale.</li>
</ul>
<p>On observe des résultats très proches,
mais une bien meilleur efficacité en utilisant DYNE,
due à l'utilisation de la base réduite (diminution du nombre de ddl)
et au travail en lagage compilé (fortran pour un opérateur)
plutôt qu'interprété (gibiane pour une procédure).</p>
<div class="dropdown note admonition">
<p class="first admonition-title">Extrait du script Cast3M : Calcul de la réponse au balourd</p>
<div class="last highlight-gibiane notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">************************************************************************</span>
<span class="c">* CHARGEMENT</span>
<span class="c">************************************************************************</span>

<span class="c">* description spatiale</span>
  <span class="n">Pchoc1</span> <span class="ow">=</span> <span class="n">c_i</span> <span class="n">POINT</span> <span class="n">PROCH</span> <span class="p">(</span><span class="n">p86</span><span class="p">);</span>
  <span class="n">Fchoc1</span> <span class="ow">=</span><span class="kc"> FORC</span> <span class="s1">&#39;FX&#39;</span> <span class="mf">1.</span> <span class="n">Pchoc1</span><span class="p">;</span>
  
<span class="c">* description temporelle</span>
  <span class="n">Tchoc</span> <span class="ow">=</span> <span class="mf">1.E-4</span><span class="p">;</span> 
  <span class="n">evolF</span> <span class="ow">=</span><span class="kc"> EVOL MANU</span> <span class="s1">&#39;t&#39;</span>  <span class="p">(</span><span class="kc">prog</span> <span class="mf">0.</span> <span class="n">Tchoc</span> <span class="p">(</span><span class="mi">2</span><span class="ow">*</span><span class="n">Tchoc</span><span class="p">)</span> <span class="mf">1.</span><span class="p">)</span>
                    <span class="s1">&#39;|F|&#39;</span><span class="p">(</span><span class="kc">prog</span> <span class="mf">0.</span>  <span class="mf">1.</span>   <span class="mf">0.</span>        <span class="mf">0.</span><span class="p">);</span>
                    
<span class="c">* objet chargement F(x,t) sur base physique et modale</span>
  <span class="n">CHA1</span>  <span class="ow">=</span><span class="kc"> CHAR</span> <span class="s1">&#39;MECA&#39;</span> <span class="n">Fchoc1</span> <span class="n">evolF</span><span class="p">;</span>
  <span class="n">CHA1P</span> <span class="ow">=</span><span class="kc"> PJBA</span> <span class="n">CHA1</span> <span class="n">Tmode</span><span class="p">;</span>


<span class="c">************************************************************************</span>
<span class="c">* ANALYSE PAR INTEGRATION TEMPORELLE : PREPARATION</span>
<span class="c">************************************************************************</span>
    
<span class="c">* MATRICE D&#39;AMORTISSEMENT</span>

<span class="c">* Si on souhaite definir directement un amortissement modal (en %) -----</span>
<span class="c">*   c1pp = PROG 20. 20. (Nmode - 2)*1.;</span>
<span class="c">*   C1P  = AMOR Tmode c1pp ;</span>

<span class="c">* Si on prend un amortissement de Rayleigh tel que C = a M + b K   ----- </span>
<span class="c">* On se donne les contraintes :</span>
<span class="c">* |a/2w + bw/2 = 0.20  pour w=2*pi*87</span>
<span class="c">* |a/2w + bw/2 = 0.02  pour w=2*pi*1000</span>
  <span class="n">w1</span> <span class="ow">=</span> <span class="mf">2.</span> <span class="ow">*</span> <span class="n">pi</span> <span class="ow">*</span> <span class="p">(</span><span class="n">Tmode</span> <span class="p">.</span> <span class="s1">&#39;MODES&#39;</span> <span class="p">.</span> <span class="mi">1</span> <span class="p">.</span> <span class="s1">&#39;FREQUENCE&#39;</span><span class="p">);</span>
  <span class="n">w2</span> <span class="ow">=</span> <span class="mf">2.</span> <span class="ow">*</span> <span class="n">pi</span> <span class="ow">*</span> <span class="mi">200</span><span class="mf">0.</span><span class="p">;</span>
  <span class="n">prMatrix</span> <span class="ow">=</span><span class="kc"> PROG</span> <span class="p">(</span><span class="mf">0.5</span><span class="ow">/</span><span class="n">w1</span><span class="p">)</span> <span class="p">(</span><span class="mf">0.5</span><span class="ow">*</span><span class="n">w1</span><span class="p">)</span> <span class="p">(</span><span class="mf">0.5</span><span class="ow">/</span><span class="n">w2</span><span class="p">)</span> <span class="p">(</span><span class="mf">0.5</span><span class="ow">*</span><span class="n">w2</span><span class="p">);</span>
  <span class="n">Matrix</span> <span class="ow">=</span><span class="kc"> MANU</span> <span class="s1">&#39;RIGI&#39;</span> <span class="n">PR1</span> <span class="p">(</span><span class="kc">MOTS</span> <span class="s1">&#39;A&#39;</span> <span class="s1">&#39;B&#39;</span><span class="p">)</span> <span class="s1">&#39;DUAL&#39;</span> <span class="p">(</span><span class="kc">MOTS</span> <span class="s1">&#39;FA&#39;</span> <span class="s1">&#39;FB&#39;</span><span class="p">)</span> <span class="s1">&#39;QUEL&#39;</span> <span class="n">prMatrix</span><span class="p">;</span>
  <span class="n">FAB</span> <span class="ow">=</span><span class="kc"> MANU</span> <span class="s1">&#39;CHPO&#39;</span> <span class="n">PR1</span> <span class="mi">2</span> <span class="s1">&#39;FA&#39;</span> <span class="mf">0.20</span> <span class="s1">&#39;FB&#39;</span> <span class="mf">0.01</span><span class="p">;</span>
  <span class="n">UAB</span> <span class="ow">=</span><span class="kc"> RESO</span> <span class="n">Matrix</span> <span class="n">FAB</span><span class="p">;</span>
  <span class="n">coef_a</span> <span class="ow">=</span><span class="kc"> EXTR</span> <span class="n">UAB</span> <span class="s1">&#39;A&#39;</span> <span class="n">PR1</span><span class="p">;</span>
  <span class="n">coef_b</span> <span class="ow">=</span><span class="kc"> EXTR</span> <span class="n">UAB</span> <span class="s1">&#39;B&#39;</span> <span class="n">PR1</span><span class="p">;</span>
  <span class="n">prfreq</span> <span class="ow">=</span><span class="kc"> PROG</span> <span class="mf">1.</span> <span class="n">PAS</span> <span class="mf">1.</span> <span class="mi">10</span><span class="mf">0.</span> <span class="n">PAS</span> <span class="mi">1</span><span class="mf">0.</span> <span class="mi">100</span><span class="mf">0.</span> <span class="n">PAS</span> <span class="mi">10</span><span class="mf">0.</span> <span class="mi">300</span><span class="mf">0.</span><span class="p">;</span>
  <span class="n">prw</span>    <span class="ow">=</span> <span class="mf">2.</span> <span class="ow">*</span> <span class="n">pi</span> <span class="ow">*</span> <span class="n">prfreq</span><span class="p">;</span>
  <span class="n">prxi</span>   <span class="ow">=</span> <span class="mf">0.5</span> <span class="ow">*</span> <span class="p">((</span><span class="n">coef_a</span> <span class="ow">*</span> <span class="p">(</span><span class="n">prw</span><span class="ow">**-</span><span class="mi">1</span><span class="p">))</span> <span class="ow">+</span> <span class="p">(</span><span class="n">coef_b</span> <span class="ow">*</span> <span class="n">prw</span><span class="p">));</span>
  <span class="n">evxi</span>   <span class="ow">=</span><span class="kc"> EVOL</span> <span class="s1">&#39;BOUT&#39;</span> <span class="s1">&#39;MANU&#39;</span> <span class="s1">&#39;f (Hz)&#39;</span> <span class="n">prfreq</span> <span class="s1">&#39;\x (%)&#39;</span> <span class="p">(</span><span class="mi">10</span><span class="mf">0.</span><span class="ow">*</span><span class="n">prxi</span><span class="p">);</span>
  <span class="kc">dess</span> <span class="n">evxi</span> <span class="s1">&#39;YBOR&#39;</span> <span class="mf">0.</span> <span class="mi">2</span><span class="mf">0.</span> <span class="s1">&#39;YGRA&#39;</span> <span class="mf">1.</span> <span class="s1">&#39;GRIL&#39;</span> <span class="s1">&#39;POIN&#39;</span> <span class="s1">&#39;GRIS&#39;</span><span class="p">;</span>
<span class="c">* C = a M + b K</span>
  <span class="n">C1</span> <span class="ow">=</span> <span class="p">(</span><span class="n">coef_a</span> <span class="ow">*</span> <span class="n">M1</span><span class="p">)</span><span class="kc"> ET</span> <span class="p">(</span><span class="n">coef_b</span> <span class="ow">*</span> <span class="n">K1</span><span class="p">);</span>
  <span class="n">C1P</span>   <span class="ow">=</span><span class="kc"> PJBA</span> <span class="n">C1</span>   <span class="n">Tmode</span><span class="p">;</span>  
<span class="c">* on peut extraire les amortissements modaux</span>
  <span class="n">prci</span> <span class="ow">=</span><span class="kc"> EXTR</span> <span class="p">(</span><span class="kc">EXTR</span> <span class="n">C1P</span> <span class="s1">&#39;DIAG&#39;</span><span class="p">)</span> <span class="s1">&#39;VALE&#39;</span><span class="p">;</span>
  <span class="n">prwi</span> <span class="ow">=</span> <span class="mf">2.</span><span class="ow">*</span><span class="n">pi</span> <span class="ow">*</span> <span class="p">(</span><span class="n">Tmode</span> <span class="p">.</span> <span class="s1">&#39;LISTE_FREQUENCES&#39;</span><span class="p">);</span>
  <span class="n">prmi</span> <span class="ow">=</span> <span class="n">Tmode</span> <span class="p">.</span> <span class="s1">&#39;LISTE_MASSES&#39;</span><span class="p">;</span>
  <span class="n">prxi</span> <span class="ow">=</span> <span class="n">prci</span> <span class="ow">/</span> <span class="p">(</span><span class="mf">2.</span><span class="ow">*</span><span class="n">prwi</span> <span class="ow">*</span> <span class="n">prmi</span><span class="p">);</span>
  <span class="kc">list</span> <span class="n">prxi</span><span class="p">;</span>
  
<span class="c">* MATRICES masse et raideur sur base modale </span>
  <span class="n">K1P</span>   <span class="ow">=</span><span class="kc"> PJBA</span> <span class="n">K1</span>   <span class="n">Tmode</span><span class="p">;</span>
  <span class="n">M1P</span>   <span class="ow">=</span><span class="kc"> PJBA</span> <span class="n">M1</span>   <span class="n">Tmode</span><span class="p">;</span>  

<span class="c">* DISCRETISATION TEMPORELLE</span>
  <span class="n">tfin</span> <span class="ow">=</span> <span class="mi">5</span><span class="mf">0.E-3</span><span class="p">;</span>
<span class="c">* pour l&#39;implicite (DYNAMIC)</span>
  <span class="n">dt</span>   <span class="ow">=</span> <span class="mf">0.01E-3</span><span class="p">;</span> <span class="n">nsort</span> <span class="ow">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="n">tprog</span> <span class="ow">=</span><span class="kc"> prog</span> <span class="mf">0.</span> <span class="s1">&#39;PAS&#39;</span> <span class="n">dt</span> <span class="n">tfin</span><span class="p">;</span>
  <span class="n">nt</span>    <span class="ow">=</span><span class="kc"> dime</span> <span class="n">tprog</span><span class="p">;</span>
  <span class="kc">MESS</span> <span class="n">nt</span> <span class="s1">&#39; pas  de temps avec dt=&#39;</span> <span class="n">dt</span><span class="p">;</span>
<span class="c">* pour DYNE, on peut se permettre un pas de temps + fin</span>
<span class="c">*  xdt = 4;</span>
  <span class="n">xdt</span> <span class="ow">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="n">dtDYNE</span> <span class="ow">=</span> <span class="n">dt</span> <span class="ow">/</span> <span class="n">xdt</span><span class="p">;</span> 
  <span class="n">ntDYNE</span> <span class="ow">=</span> <span class="p">(</span><span class="n">nt</span> <span class="ow">-</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">*</span> <span class="n">xdt</span> <span class="ow">+</span> <span class="mi">1</span><span class="p">;</span>
  <span class="n">nsortDYNE</span> <span class="ow">=</span>  <span class="n">nsort</span> <span class="ow">*</span> <span class="n">xdt</span><span class="p">;</span>
<span class="c">*  nsortDYNE = 2;</span>

<span class="c">* CONDITIONS INITIALES</span>
  <span class="n">U0</span>   <span class="ow">=</span><span class="kc"> CHPO</span> <span class="s1">&#39;UNIFORME&#39;</span> <span class="mf">0.</span> <span class="n">M1</span><span class="p">;</span>
  <span class="n">U0_P</span> <span class="ow">=</span><span class="kc"> MANU</span> <span class="s1">&#39;CHPO&#39;</span> <span class="p">(</span><span class="n">Tmode</span> <span class="p">.</span> <span class="s1">&#39;MAILLAGE_REPERE&#39;</span><span class="p">)</span> <span class="s1">&#39;ALFA&#39;</span> <span class="mf">0.</span><span class="p">;</span>

  
<span class="c">************************************************************************</span>
<span class="c">* ANALYSE PAR INTEGRATION TEMPORELLE 1 : via DYNE</span>
<span class="c">************************************************************************</span>

<span class="c">* MISE EN DONNEES POUR DYNE</span>
  <span class="n">Tamor</span> <span class="ow">=</span><span class="kc"> TABL</span> <span class="s1">&#39;AMORTISSEMENT&#39;</span><span class="p">;</span>  <span class="n">Tamor</span> <span class="p">.</span> <span class="s1">&#39;AMORTISSEMENT&#39;</span> <span class="ow">=</span> <span class="n">C1P</span>  <span class="p">;</span>
  <span class="n">Tchar</span> <span class="ow">=</span><span class="kc"> TABL</span> <span class="s1">&#39;CHARGEMENT&#39;</span>   <span class="p">;</span>  <span class="n">Tchar</span> <span class="p">.</span> <span class="s1">&#39;BASE_A&#39;</span>        <span class="ow">=</span> <span class="n">CHA1P</span><span class="p">;</span>
  <span class="n">Tini</span>  <span class="ow">=</span><span class="kc"> TABL</span> <span class="s1">&#39;INITIAL&#39;</span>      <span class="p">;</span>  <span class="n">Tini</span>  <span class="p">.</span> <span class="s1">&#39;DEPLACEMENT&#39;</span>   <span class="ow">=</span> <span class="n">U0_P</span><span class="p">;</span>
                                 <span class="n">Tini</span>  <span class="p">.</span> <span class="s1">&#39;VITESSE&#39;</span>       <span class="ow">=</span> <span class="n">U0_P</span><span class="p">;</span>
  <span class="n">Tsort</span> <span class="ow">=</span><span class="kc"> TABL</span> <span class="s1">&#39;SORTIE&#39;</span>       <span class="p">;</span>  <span class="n">Tsort</span> <span class="p">.</span> <span class="s1">&#39;TYPE_SORTIE&#39;</span>   <span class="ow">=</span><span class="kc"> MOT</span> <span class="s1">&#39;LISTREEL&#39;</span><span class="p">;</span>
  
<span class="c">* INTEGRATION TEMPORELLE</span>
  <span class="n">TDYNE</span> <span class="ow">=</span><span class="kc"> DYNE</span> <span class="s1">&#39;DIFFERENCES_CENTREES&#39;</span> <span class="n">Tmode</span> <span class="n">Tamor</span> <span class="n">Tchar</span> <span class="n">Tini</span> <span class="n">Tsort</span>
               <span class="n">ntDYNE</span> <span class="n">dtDYNE</span> <span class="n">nsortDYNE</span><span class="p">;</span>
  
<span class="c">* POST TRAITEMENT DES RESULTATS</span>
<span class="c">* evolutions</span>
  <span class="n">ux1ev</span> <span class="ow">=</span><span class="kc"> EVOL</span> <span class="s1">&#39;BLEU&#39;</span><span class="kc"> RECO</span> <span class="s1">&#39;LEGE&#39;</span> <span class="s1">&#39;DYNE&#39;</span> <span class="n">TDYNE</span> <span class="n">Tmode</span> <span class="s1">&#39;DEPL&#39;</span> <span class="n">p1</span> <span class="s1">&#39;UX&#39;</span><span class="p">;</span>
  <span class="n">vx1ev</span> <span class="ow">=</span><span class="kc"> EVOL</span> <span class="s1">&#39;BLEU&#39;</span><span class="kc"> RECO</span> <span class="s1">&#39;LEGE&#39;</span> <span class="s1">&#39;DYNE&#39;</span> <span class="n">TDYNE</span> <span class="n">Tmode</span> <span class="s1">&#39;VITE&#39;</span> <span class="n">p1</span> <span class="s1">&#39;UX&#39;</span><span class="p">;</span>

<span class="c">* spectre de la vitesse </span>
  <span class="n">p</span>   <span class="ow">=</span><span class="kc"> ENTI</span> <span class="p">(</span> <span class="p">(</span><span class="kc">log</span> <span class="n">ntDYNE</span><span class="p">)</span> <span class="ow">/</span> <span class="p">(</span><span class="kc">log</span> <span class="mf">2.</span><span class="p">)</span> <span class="p">);</span>
  <span class="n">Dv1</span> <span class="ow">=</span><span class="kc"> DSPR</span> <span class="n">p</span> <span class="n">vx1ev</span> <span class="s1">&#39;FMIN&#39;</span> <span class="mi">1</span><span class="mf">0.</span> <span class="s1">&#39;FMAX&#39;</span> <span class="mi">500</span><span class="mf">0.</span> <span class="s1">&#39;BLEU&#39;</span><span class="p">;</span>
  
<span class="c">* traces</span>
  <span class="kc">DESS</span> <span class="n">ux1ev</span> <span class="s1">&#39;LEGE&#39;</span> <span class="s1">&#39;NE&#39;</span> <span class="n">XBOR</span> <span class="mf">0.</span> <span class="n">tfin</span><span class="p">;</span>
  <span class="kc">DESS</span> <span class="n">vx1ev</span> <span class="s1">&#39;LEGE&#39;</span> <span class="s1">&#39;NE&#39;</span> <span class="n">XBOR</span> <span class="mf">0.</span> <span class="n">tfin</span><span class="p">;</span>
  <span class="kc">DESS</span> <span class="n">Dv1</span><span class="p">;</span>


<span class="c">************************************************************************</span>
<span class="c">* ANALYSE PAR INTEGRATION TEMPORELLE 2 : via DYNAMIC</span>
<span class="c">************************************************************************</span>
<span class="c">* on fait la meme analyse et on verifie juste que le resultat est le meme</span>

<span class="c">* MISE EN DONNEES POUR DYNAMIC</span>
  <span class="n">TAB1in</span> <span class="ow">=</span><span class="kc"> TABL</span><span class="p">;</span>
<span class="n">SI</span> <span class="n">ifPJBA1</span><span class="p">;</span>
  <span class="n">TAB1in</span> <span class="p">.</span> <span class="s1">&#39;DEPL&#39;</span>   <span class="ow">=</span> <span class="n">U0_P</span> <span class="p">;</span>   
  <span class="n">TAB1in</span> <span class="p">.</span> <span class="s1">&#39;VITE&#39;</span>   <span class="ow">=</span> <span class="n">U0_P</span> <span class="p">;</span>   
  <span class="n">TAB1in</span> <span class="p">.</span> <span class="s1">&#39;CHAR&#39;</span>   <span class="ow">=</span> <span class="n">CHA1P</span><span class="p">;</span> 
  <span class="n">TAB1in</span> <span class="p">.</span> <span class="s1">&#39;RIGI&#39;</span>   <span class="ow">=</span> <span class="n">K1P</span>  <span class="p">;</span> 
  <span class="n">TAB1in</span> <span class="p">.</span> <span class="s1">&#39;MASS&#39;</span>   <span class="ow">=</span> <span class="n">M1P</span>  <span class="p">;</span>
  <span class="n">TAB1in</span> <span class="p">.</span> <span class="s1">&#39;AMOR&#39;</span>   <span class="ow">=</span> <span class="n">C1P</span>  <span class="p">;</span> 
<span class="n">SINON</span><span class="p">;</span>
  <span class="n">TAB1in</span> <span class="p">.</span> <span class="s1">&#39;DEPL&#39;</span>   <span class="ow">=</span> <span class="n">U0</span>   <span class="p">;</span>   
  <span class="n">TAB1in</span> <span class="p">.</span> <span class="s1">&#39;VITE&#39;</span>   <span class="ow">=</span> <span class="n">U0</span>   <span class="p">;</span>   
  <span class="n">TAB1in</span> <span class="p">.</span> <span class="s1">&#39;CHAR&#39;</span>   <span class="ow">=</span> <span class="n">CHA1</span> <span class="p">;</span> 
  <span class="n">TAB1in</span> <span class="p">.</span> <span class="s1">&#39;RIGI&#39;</span>   <span class="ow">=</span> <span class="n">Ktot1</span><span class="p">;</span> 
  <span class="n">TAB1in</span> <span class="p">.</span> <span class="s1">&#39;MASS&#39;</span>   <span class="ow">=</span> <span class="n">M1</span>   <span class="p">;</span>
  <span class="n">TAB1in</span> <span class="p">.</span> <span class="s1">&#39;AMOR&#39;</span>   <span class="ow">=</span> <span class="n">C1</span>   <span class="p">;</span> 
<span class="n">FINSI</span><span class="p">;</span>
  <span class="n">TAB1in</span> <span class="p">.</span> <span class="s1">&#39;TEMPS_CALCULES&#39;</span> <span class="ow">=</span> <span class="n">tprog</span><span class="p">;</span>
  <span class="n">TAB1in</span> <span class="p">.</span> <span class="s1">&#39;PAS_SAUVES&#39;</span>     <span class="ow">=</span> <span class="n">nsort</span><span class="p">;</span>
  
<span class="c">* INTEGRATION TEMPORELLE</span>
  <span class="n">TAB1</span> <span class="ow">=</span><span class="nb"> DYNAMIC</span> <span class="n">TAB1in</span> <span class="p">;</span>
  
<span class="c">* POST TRAITEMENT DES RESULTATS</span>
<span class="c">* on prepare les EVOLUTIONS TEMPORELLES :</span>
<span class="c">* temps sauves </span>
  <span class="n">tp</span> <span class="ow">=</span><span class="kc"> prog</span> <span class="p">;</span>
<span class="c">* deplacements et vitesse au point p1 selon UX pour le choc 1</span>
  <span class="n">ux2p</span> <span class="ow">=</span><span class="kc"> prog</span><span class="p">;</span>  
  <span class="n">vx2p</span> <span class="ow">=</span><span class="kc"> prog</span><span class="p">;</span>
<span class="c">*------------------------ boucle sur les pas de temps </span>
  <span class="n">npas</span> <span class="ow">=</span><span class="kc"> dime</span> <span class="n">TAB1</span><span class="p">;</span>
  <span class="n">ipas</span> <span class="ow">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">REPE</span> <span class="n">BPAS</span> <span class="n">npas</span><span class="p">;</span> <span class="n">ipas</span> <span class="ow">=</span> <span class="n">ipas</span> <span class="ow">+</span> <span class="mi">1</span><span class="p">;</span>  
    <span class="kc">mess</span> <span class="s1">&#39;ipas = &#39;</span> <span class="n">ipas</span> <span class="p">;</span>
    <span class="n">SI</span> <span class="p">(</span><span class="kc">NON</span> <span class="p">(</span><span class="kc">EXIS</span> <span class="n">TAB1</span> <span class="n">ipas</span><span class="p">));</span><span class="kc"> ITER</span> <span class="n">BPAS</span> <span class="p">;</span> <span class="n">FINSI</span><span class="p">;</span>    
<span class="c">*   recup de la solution au pas ipas  et temps t</span>
    <span class="n">t</span>  <span class="ow">=</span> <span class="n">TAB1</span> <span class="p">.</span> <span class="n">ipas</span> <span class="p">.</span> <span class="s1">&#39;TEMP&#39;</span><span class="p">;</span>
<span class="c">*   grandeurs souhaitees</span>
    <span class="n">SI</span> <span class="n">ifPJBA1</span><span class="p">;</span>
      <span class="n">u</span> <span class="ow">=</span><span class="kc"> RECO</span> <span class="p">(</span><span class="n">TAB1</span> <span class="p">.</span> <span class="n">ipas</span> <span class="p">.</span> <span class="s1">&#39;DEPL&#39;</span><span class="p">)</span> <span class="n">Tmode</span><span class="p">;</span>
      <span class="n">v</span> <span class="ow">=</span><span class="kc"> RECO</span> <span class="p">(</span><span class="n">TAB1</span> <span class="p">.</span> <span class="n">ipas</span> <span class="p">.</span> <span class="s1">&#39;VITE&#39;</span><span class="p">)</span> <span class="n">Tmode</span><span class="p">;</span>
<span class="c">*     TAB1 . ipas . &#39;DEPL_RECO&#39; = u;</span>
<span class="c">*     TAB1 . ipas . &#39;VITE_RECO&#39; = v;</span>
    <span class="n">SINON</span><span class="p">;</span>
      <span class="n">u</span>  <span class="ow">=</span> <span class="n">TAB1</span> <span class="p">.</span> <span class="n">ipas</span> <span class="p">.</span> <span class="s1">&#39;DEPL&#39;</span><span class="p">;</span>    
      <span class="n">v</span>  <span class="ow">=</span> <span class="n">TAB1</span> <span class="p">.</span> <span class="n">ipas</span> <span class="p">.</span> <span class="s1">&#39;VITE&#39;</span><span class="p">;</span>        
    <span class="n">FINSI</span><span class="p">;</span>
<span class="c">*   stockage des grandeurs souhaitees</span>
    <span class="n">tp</span> <span class="ow">=</span> <span class="n">tp</span><span class="kc"> et</span> <span class="n">t</span><span class="p">;</span>
    <span class="n">ux2p</span> <span class="ow">=</span> <span class="n">ux2p</span><span class="kc"> et</span> <span class="p">(</span><span class="kc">extr</span> <span class="n">u</span> <span class="n">p1</span> <span class="s1">&#39;UX&#39;</span><span class="p">);</span>
    <span class="n">vx2p</span> <span class="ow">=</span> <span class="n">vx2p</span><span class="kc"> et</span> <span class="p">(</span><span class="kc">extr</span> <span class="n">v</span> <span class="n">p1</span> <span class="s1">&#39;UX&#39;</span><span class="p">);</span>      
  <span class="n">FIN</span>  <span class="n">BPAS</span><span class="p">;</span>
<span class="c">*------------------------ fin de boucle sur les pas de temps</span>
 
<span class="c">* evolutions</span>
  <span class="n">ux2ev</span> <span class="ow">=</span><span class="kc"> EVOL</span> <span class="s1">&#39;ROSE&#39;</span><span class="kc"> MANU</span> <span class="s1">&#39;LEGE&#39;</span> <span class="s1">&#39;DYNAMIC&#39;</span> <span class="s1">&#39;t&#39;</span> <span class="n">tp</span> <span class="s1">&#39;u_{x}(p1)&#39;</span> <span class="n">ux2p</span><span class="p">;</span>
  <span class="n">vx2ev</span> <span class="ow">=</span><span class="kc"> EVOL</span> <span class="s1">&#39;ROSE&#39;</span><span class="kc"> MANU</span> <span class="s1">&#39;LEGE&#39;</span> <span class="s1">&#39;DYNAMIC&#39;</span> <span class="s1">&#39;t&#39;</span> <span class="n">tp</span> <span class="s1">&#39;v_{x}(p1)&#39;</span> <span class="n">vx2p</span><span class="p">;</span> 

<span class="c">* spectre de la vitesse </span>
  <span class="n">p</span>   <span class="ow">=</span><span class="kc"> ENTI</span> <span class="p">(</span> <span class="p">(</span><span class="kc">log</span> <span class="n">nt</span><span class="p">)</span> <span class="ow">/</span> <span class="p">(</span><span class="kc">log</span> <span class="mf">2.</span><span class="p">)</span> <span class="p">);</span>
  <span class="n">Dv2</span> <span class="ow">=</span><span class="kc"> DSPR</span> <span class="n">p</span> <span class="n">vx2ev</span> <span class="s1">&#39;FMIN&#39;</span> <span class="mi">1</span><span class="mf">0.</span> <span class="s1">&#39;FMAX&#39;</span> <span class="mi">500</span><span class="mf">0.</span> <span class="s1">&#39;ROSE&#39;</span><span class="p">;</span>
  
<span class="c">* traces</span>
  <span class="kc">DESS</span> <span class="n">ux2ev</span> <span class="s1">&#39;LEGE&#39;</span> <span class="s1">&#39;NE&#39;</span> <span class="n">XBOR</span> <span class="mf">0.</span> <span class="n">tfin</span><span class="p">;</span>
  <span class="kc">DESS</span> <span class="n">vx2ev</span> <span class="s1">&#39;LEGE&#39;</span> <span class="s1">&#39;NE&#39;</span> <span class="n">XBOR</span> <span class="mf">0.</span> <span class="n">tfin</span><span class="p">;</span>
  <span class="kc">DESS</span> <span class="n">Dv2</span><span class="p">;</span>

  
<span class="c">************************************************************************</span>
<span class="c">* TRACES COMPARATIFS</span>
<span class="c">************************************************************************</span>

  <span class="kc">DESS</span> <span class="p">(</span><span class="n">ux2ev</span><span class="kc"> ET</span> <span class="n">ux1ev</span><span class="p">)</span> <span class="s1">&#39;LEGE&#39;</span> <span class="s1">&#39;NE&#39;</span> <span class="n">XBOR</span> <span class="mf">0.</span> <span class="n">tfin</span><span class="p">;</span>
  <span class="kc">DESS</span> <span class="p">(</span><span class="n">vx2ev</span><span class="kc"> ET</span> <span class="n">vx1ev</span><span class="p">)</span> <span class="s1">&#39;LEGE&#39;</span> <span class="s1">&#39;NE&#39;</span> <span class="n">XBOR</span> <span class="mf">0.</span> <span class="n">tfin</span><span class="p">;</span>
  <span class="kc">dess</span> <span class="p">(</span><span class="n">Dv2</span>   <span class="kc">ET</span> <span class="n">Dv1</span>  <span class="p">)</span> <span class="s1">&#39;LEGE&#39;</span> <span class="s1">&#39;NE&#39;</span> <span class="n">TITX</span> <span class="s1">&#39;f (Hz)&#39;</span> <span class="n">TITY</span> <span class="s1">&#39;S_{vv}&#39;</span><span class="p">;</span>
  
  
<span class="c">************************************************************************</span>
<span class="c">* SAUVEGARDE ET FIN NORMALE</span>
<span class="c">************************************************************************</span>

<span class="kc">OPTI SAUV</span> <span class="s1">&#39;vibrations_cloche.xdr&#39;</span><span class="p">;</span><span class="kc"></span>
<span class="kc">SAUV</span><span class="p">;</span>


<span class="kc">TEMP</span> <span class="n">IMPR</span><span class="kc"> MAXI</span> <span class="n">CPU</span><span class="p">;</span>
<span class="n">FIN</span> <span class="p">;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="../_images/vibrations_cloche-CHOC.png"><img alt="../_images/vibrations_cloche-CHOC.png" src="../_images/vibrations_cloche-CHOC.png" style="height: 280px;" /></a>
<p class="caption"><span class="caption-text">Evolution temporelle (à gauche) et densité spectrale de puissance (à droite)
du déplacement en un point en bas de la cloche
pour les intégrations temporelles par DYNAMIC et DYNE.</span></p>
</div>
</div>
<div class="section" id="fichiers-a-telecharger">
<h2>7.2.4. Fichiers à télécharger<a class="headerlink" href="#fichiers-a-telecharger" title="Lien permanent vers ce titre">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="../.././vibrations_cloche.dgibi">Jeu de données Cast3M</a></li>
<li><a class="reference external" href="../.././vibrations_cloche.pdf">Fichier graphique résultat</a></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../references.html" class="btn btn-neutral float-right" title="8. Références" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="rotor_laval_poutre.html" class="btn btn-neutral float-left" title="7.1. Modélisation d&#39;un rotor de Laval : calcul des modes propres réels et complexes, réponse au balourd" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, Benoit Prabel

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>